
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Dependencies and test status</title>
</head>
<body>
<h1>Tree structure, classes and methods or functions, and test status</h1>
<p>
The following information is generated from the sources.
Please run test_status.py to get the latest.
Note that the test information is only as good as it has been
documented in the source files.  Try to help in keeping this up to date.
</p>
<pre title="python_code">

    crunchy.py
        find_port(start=8001)
        run_crunchy(host='127.0.0.1', port=None, url=None)
        parse_options()
        convert_url(url)
        open_browser(url)
src
    cometIO.py
        class StringBuffer(object):
            __init__(self)
            get(self)
            getline(self, uid)
            put(self, data)
        class CrunchyIOBuffer(StringBuffer):
            put_output(self, data, uid)
        kill_thread(uid)
        comet(request)
        register_new_page(pageid)
        write_js(pageid, jscode)
        write_output(pageid, uid, output)
        do_exec(code, uid, doctest=False)
        push_input(request)
        class ThreadedBuffer(object):
            __init__(self, out_buf=None, in_buf=None, buf_class="STDOUT")
            flush(self)
            register_thread(self, uid)
            unregister_thread(self)
            write(self, data)
            read(self)
            readline(self)
            __redirect(self, uid)
            default_write(self, data)
        debug_msg(data, id_=None)
    configuration.py
        make_property(name, default=None)
            fget(obj)
            _set_and_save(obj, _name, value, initial=False)
            _only_set_and_save_if_new(obj, name, val)
            fset(obj, val)
        class Base(object):
            _init_properties(self, cls)
            _save_settings(self, name, value, initial=False)
        class Defaults(Base):
            class containing various default values that can be set by user according
            to their preferences.
            """
            def __init__(self, prefs)
            __init__(self, prefs)
            _set_dirs(self) # "tested"; i.e. called in unit tests.
            _load_settings(self)
            _save_settings(self, name=None, value=None, initial=False)
            _select_language(self, choice)
            page_security_level(self, url)
            _set_local_security(self, choice)
            get_current_page_security_level(self)
            _get_site_security(self, site)
            _set_site_security(self, site, choice)
            add_site(self)
            _set_alternate_python_version(self, alt_py)
        init()
    CrunchyPlugin.py
        add_vlam_option(option_name, *args)
        register_http_handler(pattern, handler)
        register_preprocessor(extension, handler)
        register_tag_handler(tag, attribute, keyword, handler)
        register_final_tag_handler(tag, handler)
        register_begin_pagehandler(handler)
        register_end_pagehandler(handler)
        create_vlam_page(filehandle, url, remote=False, local=False)
        exec_code(code, uid, doctest=False)
        register_service(servicename, function)
        exec_js(pageid, jscode)
        append_text(page_id, output_id, text)
        get_pageid()
        get_uid()
        get_root_dir()
        gen_uid()
        kill_thread(uid)
    debug.py
    errors.py
        simplify_traceback(code=None)
        simplify_syntax_error(code, ex_type, value, trace, lineno)
        simplify_doctest_error_message(msg)
    http_serve.py
        require_basic_authenticate(func)
            wrapped(self)
        require_digest_access_authenticate(func)
            wrapped(self)
        class MyHTTPServer(ThreadingMixIn, HTTPServer):
            __init__(self, addr, rqh)
            register_default_handler(self, handler)
            register_handler(self, path, handler)
            register_handler_instance(self, handlerinstance)
            get_handler(self, path)
        class HTTPRequestHandler(BaseHTTPRequestHandler):
            do_POST(self)
            do_GET(self)
            send_response(self, code)
    interface.py
        debug_msg(data)
    interpreter.py
        _async_raise(tid, excobj)
        class KillableThread(threading.Thread):
            raise_exc(self, excobj)
            terminate(self)
        class Interpreter(KillableThread):
            __init__(self, code, channel, symbols = None, doctest=False)
            run(self)
        softspace(file, newvalue)
        class InteractiveInterpreter(object):
            __init__(self, locals=None)
            runsource(self, source, filename="User's code", symbol="single")
            runcode(self, code, source)
            write(self, data)
        class InteractiveConsole(InteractiveInterpreter):
            __init__(self, locals=None, filename="&lt;console&gt;")
            resetbuffer(self)
            interact(self, ps1="&gt;&gt;&gt; ", ps2 = "... ", symbol="single")
            push(self, line, symbol='single')
            raw_input(self, prompt="")
        class SingleConsole(InteractiveConsole):
            __init__(self, locals={}, filename="Crunchy console")
            restart(self)
        class BorgGroups(object):
            __init__(self, group="Borg")
        class BorgConsole(BorgGroups, SingleConsole):
            __init__(self, locals={}, filename="Crunchy console", group="Borg")
        class TypeInfoConsole(BorgGroups, SingleConsole):
            __init__(self, locals={}, filename="Crunchy console", group="Borg")
            runcode(self, code, source)
            show_expression_value(self, val)
    my_htmlentitydefs.py
    pluginloader.py
        gen_register_list(initial_list)  # tested
        gen_plugin_list()
        init_plugin_system(server)
    PluginServices.py
    security.py
        remove_unwanted(tree, page)  # partially tested
        __cleanup(elem, filter)
        validate_image(src, page)
        is_link_safe(elem, page)
        find_url(url, href, page)
        open_local_file(url)
        scan_for_unwanted(css_file)
    tools_2k.py
        u_print(*args)
        exec_code(code, local_dict, source='')
    translation.py
        init_translation(lang=None)
        _(message)
        build_dict(filename)
    utilities.py
        uidgen()  # tested
        extract_log_id(vlam)  # tested
        insert_file_browser(parent, text, action)  # tested
        trim_empty_lines_from_end(text)  # tested
        changeHTMLspecialCharacters(text)  # tested
        insert_markup(elem, uid, vlam, markup, interactive_type)
        log_session()
        append_checkmark(pageid, parent_uid)
        append_warning(pageid, parent_uid)
        append_image(pageid, parent_uid, attributes)
    vlam.py
        class _BasePage(object):
            __init__(self)  # tested
            create_tree(self, filehandle, encoding='utf-8')  # tested
            find_head(self)  # tested
            find_body(self)  # tested
            add_include(self, include_str)  # tested
            includes(self, include_str)  # tested
            add_css_code(self, code)  # tested
            add_crunchy_style(self)  # tested
            add_user_style(self)  # tested
            add_js_code(self, code)  # tested
            insert_js_file(self, filename)  # tested
            add_charset(self)  # tested
            extract_keyword(self, elem, attr) # tested
            process_handlers3(self)  # tested
            process_handlers2(self)  # tested
            process_type1(self, handlers)  # tested
            process_final_handlers1(self)  # tested
            process_handlers1(self)  # tested
            read(self)  # tested
        class CrunchyPage(_BasePage):
            __init__(self, filehandle, url, remote=False, local=False)
            process_tags(self)
src/imports/DOM
    document.py
        freevar()
        class Document(object): 
            exec_jscript(self, code)
            _get_body(self)
            create_element(self, tagName)
            getElementById(self, id)
        class Element(object):
            __init__(self, document, var)
            _set_innerHTML(self, val)
src/plugins
    colourize.py
        register():
        plugin_style(dummy_page, elem, dummy_uid, css_class='crunchy')
        service_style(dummy_page, elem, css_class='crunchy')
        service_style_nostrip(dummy_page, elem, css_class='crunchy')
        style(elem, css_class='crunchy', no_strip=False)
        extract_code(elem, trim=False)
        get_linenumber_offset(vlam)
        replace_element(elem, replacement)
        class Colourizer(object):
            __init__(self, offset=None)
            formatName(self, aWord)
            formatNumber(self)
            formatOperator(self)
            formatString(self)
            formatComment(self)
            changeHTMLspecialCharacters(self, aString)
            formatMultiLineComment(self)
            indent(self)
            spaceToken(self)
            htmlFormat(self)
            processNewLine(self)
            parseListing(self, code)
        _style(text, offset=None)
        extract_code_from_interpreter(text)
        add_back_prompt_and_output(py_code, stripped, offset=None)
        is_interpreter_session(py_code)
        parsing_error_dialog()
    comet.py
        register():  # tested
    doc_code_check.py
        register():
        class MockPageInfo(object):
            dummy_pageid(self)
            dummy_uid(self)
            set(self)
            restore(self)
        all_code_samples_check_callback(request)
        doc_code_check_callback(request)
        do_single_test(pageid, uid)
        code_setup_process(page, elem, uid)
        code_sample_process(page, elem, uid)
        expected_output_process(dummy, elem, uid)
        insert_comprehensive_test_button(page)
        run_sample(name)  # tested
        compare(s1, s2)  # tested
        extract_name(vlam)  # tested
    editarea.py
        register():  # tested
        enable_editarea(page, elem, textarea_id)  # tested
        add_hidden_load_and_save(elem, textarea_id)  # tested
        addLoadPython(parent, hidden_load_id, textarea_id)  # tested
        addSavePython(parent, hidden_save_id, textarea_id)  # tested
    execution.py
        register():  # tested
        exec_handler(request)  # tested
    file_service.py
        register():
        save_file_request_handler(request)
        save_and_run_request_handler(request)
        run_external_request_handler(request)
        load_file_request_handler(request)
        save_file(full_path, content)  # tested
        read_file(full_path)  # tested
        exec_external(code=None,  path=None)
        save_file_python_interpreter_request_handler(request)
        save_and_run_python_interpreter_request_handler(request)
        run_external_python_interpreter_request_handler(request)
        exec_external_python_version(code=None,  path=None, alternate_version=True,
                                         write_over=True)
    handle_default.py
        register():
        path_to_filedata(path, root)
        handler(request)
        get_directory(npath)
        error_page(path)
    handle_local.py
        register():  # tested
        local_loader(request)  # tested
        add_to_path(page, elem, *dummy)  # tested
    handle_remote.py
        register():  # tested
        remote_loader(request)  # tested
    io_widget.py
        register():   # tested
        kill_thread_handler(request)
        insert_io_subwidget(page, elem, uid, interp_kind=None,
                                sample_code='')  # partially tested
    links.py
        register():  # tested
        external_link(page, elem, *dummy)  # tested
        fixed_link(*dummy)  # tested
        a_tag_handler(page, elem, *dummy)  # tested
        src_handler(page, elem, *dummy)  # partially tested
        link_tag_handler(page, elem, *dummy)  # partially tested
        secure_url(url)  # tested
        style_handler(page, elem, *dummy)  # tested
            css_import_replace(imp_match)
    menu.py
        register():
        insert_special_menu(page, elem, dummy)
        insert_default_menu(page)
        activate_security_info(page, menu)
        extract_menu(filename, page, safe_menus=False)
        select_language(lang)
    no_markup.py
        register():
        power_vlam(page, elem, uid)
    power_browser.py
        register(): # tested
        insert_browser(page, *dummy) # tested
    python_files.py
        register():
        class Python_file(object):
            __init__(self, data)
            read(self)
        load_python(request)
        insert_load_python(dummy_page, parent, dummy_uid)
    rst.py
        register():
            int_or_one(argument)
            class pre(nodes.raw):
                __init__(self, *args, **kwargs)
            class InterpreterDirective(rst.Directive):
                run(self)
            class EditorDirective(rst.Directive):
                run(self)
            class DocTestDirective(rst.Directive):
                run(self)
            class ImageFileDirective(rst.Directive):
                run(self)
            class PythonCodeDirective(rst.Directive):
                run(self)
            class AltPythonVersionDirective(rst.Directive):
                run(self)
            class NoVLAMDirective(rst.Directive):
                run(self)
            visit_pre(translator, node)
            depart_pre(translator, node)
        class ReST_file(object):
            __init__(self, data)
            read(self)
        load_rst(request)
        convert_rst(path, local=True)
        insert_load_rst(dummy_page, parent, dummy_uid)
    security_advisor.py
        register():
        insert_security_info(page, *dummy)
        confirm_at_start(page, info_container)
        format_site_security_options(parent, site, site_num)
        add_button(info_container, nb_sites)
        format_table(parent, title, headings, content)
        format_report(page, div)
        set_security_list(request)
        empty_security_list(request)
    tooltip.py
        register():
        insert_tooltip(page, *dummy)
        dir_handler(request)
        doc_handler(request)
    vlam_doctest.py
        register():
        doctest_runner_callback(request)
        doctest_widget_callback(page, elem, uid)
    vlam_editor.py
        register():  # tested
        kill_thread_handler(request)
        insert_editor_subwidget(page, elem, uid, code="\n")  # tested
        insert_bare_editor(page, elem, uid)
        insert_editor(page, elem, uid)  # tested
        insert_alternate_python(page, elem, uid)
    vlam_interpreter.py
        register():
        insert_interpreter(page, elem, uid)
        select_type(vlam, c, elem)
        include_interpreter(interp_kind, page, uid)
        borg_javascript(prefix, page, crunchy_help)
        single_javascript(prefix)
        parrot_javascript(prefix)
        parrots_javascript(prefix, page)
        type_info_javascript(prefix, page)
    vlam_load_local.py
        register():  # tested
        insert_load_local(dummy_page, parent, dummy_uid)  # tested
    vlam_load_remote.py
        register(): # tested
        insert_load_remote(dummy_page, parent, dummy_uid) # tested
    vlam_unittest.py
        register():
        unittest_runner_callback(request)
        unittest_widget_callback(page, elem, uid)
        test_suite()
src/imports
    c_turtle.py
        class CTurtle(object):
            __init__(self, x=0, y=0, angle=0, visible=True) # tested indirectly
            home(self)  # tested
            degrees(self, fullcircle=360.0)  # tested
            radians(self)  # tested
            default_colors(self)  # tested indirectly
            width(self, number)  # tested
            visible(self, choice)  # tested
            left(self, angle)  # tested
            right(self, angle)  # tested
            goto(self, x, y)  # tested
            forward(self, len)  # tested
            backward(self, len)  # tested
            heading(self)  # tested
            setheading(self, angle)  # tested
            setx(self, xpos)  # tested
            sety(self, ypos)  # tested
            position(self)  # tested
            towards(self, *args)  # tested
            penup(self)  # tested
            pendown(self)  # tested
            color(self, *args)  # tested
            fill_color(self, *args)
            background(self, *args)
            _parse_color(self, *args)  # tested
            begin_fill(self)
            end_fill(self)
            circle(self, radius, extent=None)
            delay(self, dt)
            speed(self, speed)
    dhtml.py
        class _Tree(object):
            __init__(self, label, parent=None)
            append_child(self, child)  # indirectly tested
            remove_child(self, child)  # tested
            remove_all_children(self)  # tested
            delete(self)  # indirectly tested
        image(file_path, width=400, height=400, label='', parent_label=None,
                  from_cwd=False)  # tested
        append(tag, attributes=None, label='', parent_label=None)  # tested
        remove(label='')  # tested
        _js_append_html(pid, tag, child_uid, attributes)
        _js_remove_html(child_uid, parent_uid)
    graphics.py
        init(width=400, height=400, border_color='red', origin='top') # tested
        clear() # tested
        set_line_colour(col) # tested
        set_fill_colour(col) # tested
        line(point_1, point_2) # tested
        _circle(centre, r, filled=False) # tested
        circle(centre, r) # tested
        filled_circle(centre, r) # tested
        _rectangle(corner, w, h, filled=False) # tested
        rectangle(corner, w, h) # tested
        filled_rectangle(corner, w, h) # tested
        _triangle(point_1, point_2, point_3, filled=False) # tested
        triangle(point_1, point_2, point_3) # tested
        filled_triangle(point_1, point_2, point_3) # tested
        point(x, y) # tested
        validate_colour(colour) # tested
    turtle_js.py
        class Turtle(CTurtle):
            __init__(self, x=0, y=0, angle=0,    
                visible=True, pen_down=True,
                shell_color='DarkGreen', shell_radius=20, 
                head_color='Tan', head_radius=8, head_dist=25, 
                legs_color='Tan', legs_radius=8, legs_dist=22,  
                eyes_color='DarkGreen', eyes_radius=2, size_scaling=1 )
            goto(self, x, y)
            default_colors(self)
            home(self)
            draw_line(self, from_point, to_point)
            left(self, angle)
            right(self, angle)
            setheading(self, angle)
            draw(self, draw_last=False)
                x(angle)
                y(angle)
            color(self, col)
        _update_drawing()
        class World(object):
            __init__(self, width=600, height=600, border_color='red', empty=True)
            goto(self, x, y)
            clear_world(self)
        goto(x, y)
        _clear_world(uid)
        remove_world()
        _set_line_colour(col)
        set_fill_colour(col)
        __translate_x(x, uid)
        __translate_y(y, uid)
        line(point_1, point_2)
        circle(centre, r)
        filled_circle(centre, r)
        _rectangle(corner, w, h)
        _filled_rectangle(corner, w, h)
        __point(x, y)
    turtle_tk.py

</pre>
</body></html>
